(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Wolfram 14.1' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       154,          7]
NotebookDataLength[     16354,        403]
NotebookOptionsPosition[     14949,        376]
NotebookOutlinePosition[     15416,        393]
CellTagsIndexPosition[     15373,        390]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{"c", "[", "t_", "]"}], ":=", 
  RowBox[{"CellularAutomaton", "[", 
   RowBox[{"30", ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", "1", "}"}], ",", "0"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"t", ",", 
      RowBox[{"{", 
       RowBox[{"{", "0", "}"}], "}"}]}], "}"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.947008899042575*^9, 3.947008899043454*^9}},
 CellLabel->"In[18]:=",ExpressionUUID->"94489462-c673-479e-8654-cca03a4ede87"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Frecuencies", "=", 
   RowBox[{"Function", "[", 
    RowBox[{
     RowBox[{"{", "column", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"unique", "=", 
       RowBox[{"DeleteDuplicates", "[", "column", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"frecuencies", "=", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"unique", "[", 
            RowBox[{"[", "i", "]"}], "]"}], ",", 
           RowBox[{"Count", "[", 
            RowBox[{"column", ",", 
             RowBox[{"unique", "[", 
              RowBox[{"[", "i", "]"}], "]"}]}], "]"}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", 
           RowBox[{"Length", "[", "unique", "]"}]}], "}"}]}], "]"}]}], ";", 
      "\[IndentingNewLine]", "frecuencies"}]}], "\[IndentingNewLine]", 
    "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.947009985010923*^9, 3.947010125470407*^9}, {
   3.9470102682637463`*^9, 3.9470104448073673`*^9}, 3.947010482198634*^9, {
   3.947010682743911*^9, 3.9470106835294933`*^9}, {3.9470108225123997`*^9, 
   3.9470108285822897`*^9}, {3.947010949479084*^9, 3.947010949601597*^9}, 
   3.9470116221125298`*^9, {3.947084241496735*^9, 3.9470842490428457`*^9}, {
   3.947084907158745*^9, 3.94708504516702*^9}, {3.94708508406004*^9, 
   3.947085149866665*^9}, {3.947085185458973*^9, 3.94708520987999*^9}, {
   3.94708534367404*^9, 3.947085345866548*^9}},
 CellLabel->"In[19]:=",ExpressionUUID->"d04e50d8-6ba5-48f3-bc11-be5c0d1389ed"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Density", "=", 
   RowBox[{"Function", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"column", ",", "divisor"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"partitions", "=", 
       RowBox[{"Partition", "[", 
        RowBox[{"column", ",", "divisor"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"density", "=", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"Count", "[", 
          RowBox[{
           RowBox[{"partitions", "[", 
            RowBox[{"[", "i", "]"}], "]"}], ",", "1"}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "1", ",", 
           RowBox[{"Length", "[", "partitions", "]"}]}], "}"}]}], "]"}]}], ";",
       "\[IndentingNewLine]", "density"}]}], "\[IndentingNewLine]", "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.9470850577185297`*^9, 3.947085106775282*^9}, {
  3.947085334633037*^9, 3.947085508383246*^9}},
 CellLabel->"In[20]:=",ExpressionUUID->"186e5e61-acd5-4c6e-baa2-783566172cb9"],

Cell[BoxData[
 RowBox[{
  RowBox[{"HistoricFrecuency", "=", 
   RowBox[{"Function", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"column", ",", "divisor", ",", "min", ",", "increment"}], "}"}],
      ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"historic", "=", 
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"Frecuencies", "[", 
          RowBox[{"Density", "[", 
           RowBox[{
            RowBox[{"column", "[", 
             RowBox[{"[", 
              RowBox[{"1", ";;", "i"}], "]"}], "]"}], ",", "divisor"}], "]"}],
           "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", "min", ",", 
           RowBox[{"Length", "[", "column", "]"}], ",", "increment"}], 
          "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"Do", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"historic", "[", 
           RowBox[{"[", 
            RowBox[{"i", ",", "All", ",", "2"}], "]"}], "]"}], "=", 
          RowBox[{"Normalize", "[", 
           RowBox[{"historic", "[", 
            RowBox[{"[", 
             RowBox[{"i", ",", "All", ",", "2"}], "]"}], "]"}], "]"}]}], 
         ";"}], "\[IndentingNewLine]", ",", 
        RowBox[{"{", 
         RowBox[{"i", ",", "1", ",", 
          RowBox[{"Length", "[", "historic", "]"}]}], "}"}]}], "]"}], ";", 
      "\[IndentingNewLine]", "historic"}]}], "\[IndentingNewLine]", "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.947011852951837*^9, 3.9470121943313847`*^9}, {
  3.9470122290421867`*^9, 3.947012667950403*^9}, {3.947012759575643*^9, 
  3.947012760857072*^9}, {3.947012804597546*^9, 3.947012887127367*^9}, {
  3.947012923383917*^9, 3.9470130068473263`*^9}, {3.947013046486733*^9, 
  3.9470130673823843`*^9}, {3.947013105833246*^9, 3.9470132582054253`*^9}, {
  3.947013421739709*^9, 3.947013422433992*^9}, {3.9470136161252737`*^9, 
  3.947013649852251*^9}, {3.9470144983043327`*^9, 3.9470145185735607`*^9}, {
  3.947085515828247*^9, 3.9470856194483843`*^9}, {3.9470857081984663`*^9, 
  3.9470858035365143`*^9}, {3.94708585486342*^9, 3.947086182859374*^9}, {
  3.9470862225297937`*^9, 3.947086242534342*^9}, {3.947086274375146*^9, 
  3.947086523450367*^9}, {3.947086698863599*^9, 3.947086701260324*^9}},
 CellLabel->"In[21]:=",ExpressionUUID->"7db10f2a-40c7-4e4b-8ba1-3c9d7e3e5157"],

Cell[BoxData[
 RowBox[{
  RowBox[{"AllHistoric", "=", 
   RowBox[{"Function", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"column", ",", "divisors", ",", "min", ",", "increment"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"divisors", "[", 
          RowBox[{"[", "i", "]"}], "]"}], ",", 
         RowBox[{"HistoricFrecuency", "[", 
          RowBox[{"column", ",", 
           RowBox[{"divisors", "[", 
            RowBox[{"[", "i", "]"}], "]"}], ",", "min", ",", 
           RowBox[{"increment", "-", 
            RowBox[{"Mod", "[", 
             RowBox[{"increment", ",", 
              RowBox[{"divisors", "[", 
               RowBox[{"[", "i", "]"}], "]"}]}], "]"}]}]}], "]"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"i", ",", "1", ",", 
         RowBox[{"Length", "[", "divisors", "]"}], ",", "1"}], "}"}]}], 
      "]"}]}], "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.947297827043975*^9, 3.9472980586746483`*^9}, {
  3.9472984074575644`*^9, 3.94729841463192*^9}},
 CellLabel->"In[22]:=",ExpressionUUID->"4996bacb-4969-47bb-bbde-5fd81396cf99"],

Cell[BoxData[
 RowBox[{
  RowBox[{"column", "=", 
   RowBox[{
    RowBox[{"c", "[", "100000", "]"}], "[", 
    RowBox[{"[", 
     RowBox[{";;", 
      RowBox[{"-", "2"}]}], "]"}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.947266984163205*^9, 3.947266988049383*^9}, {
   3.9472672724092703`*^9, 3.947267354338468*^9}, {3.9472676011944723`*^9, 
   3.947267603215172*^9}, {3.9472676931921787`*^9, 3.947267693682638*^9}, 
   3.947268440179036*^9, {3.947284186245048*^9, 3.947284215676023*^9}, {
   3.947298066234394*^9, 3.947298066897564*^9}, 3.947298754158753*^9, 
   3.947299440684166*^9},
 CellLabel->"In[23]:=",ExpressionUUID->"1b4fa49d-2619-4afd-8dac-3c4b16316725"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"divisors", "=", 
   RowBox[{"{", 
    RowBox[{
    "1", ",", "2", ",", "4", ",", "5", ",", "6", ",", "7", ",", "8", ",", "9",
      ",", "10"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"min", "=", "100"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"increment", "=", "100"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"all", "=", 
    RowBox[{"AllHistoric", "[", 
     RowBox[{"column", ",", "divisors", ",", "min", ",", "increment"}], 
     "]"}]}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"minX", "=", 
   RowBox[{
    RowBox[{"Min", "[", 
     RowBox[{"Flatten", "[", 
      RowBox[{"all", "[", 
       RowBox[{"[", 
        RowBox[{"All", ",", "2", ",", "All", ",", "All", ",", "1"}], "]"}], 
       "]"}], "]"}], "]"}], "//", "N"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"maxX", "=", 
   RowBox[{
    RowBox[{"Max", "[", 
     RowBox[{"Flatten", "[", 
      RowBox[{"all", "[", 
       RowBox[{"[", 
        RowBox[{"All", ",", "2", ",", "All", ",", "All", ",", "1"}], "]"}], 
       "]"}], "]"}], "]"}], "//", "N"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"maxY", "=", 
   RowBox[{
    RowBox[{"Max", "[", 
     RowBox[{"Flatten", "[", 
      RowBox[{"all", "[", 
       RowBox[{"[", 
        RowBox[{"All", ",", "2", ",", "All", ",", "All", ",", "2"}], "]"}], 
       "]"}], "]"}], "]"}], "//", "N"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.9472980731942997`*^9, 3.947298121137467*^9}, {
  3.947298272016951*^9, 3.947298334792142*^9}, {3.9472983670099487`*^9, 
  3.947298379039671*^9}, {3.9472984459034967`*^9, 3.947298636142515*^9}, {
  3.947298746952824*^9, 3.947298767216178*^9}, {3.9472996761071587`*^9, 
  3.9472996815062*^9}, {3.947300615042273*^9, 3.947300616760977*^9}, {
  3.9473006833548326`*^9, 3.947300683569519*^9}},
 CellLabel->"In[24]:=",ExpressionUUID->"55fb8718-0b63-437f-afde-7863d8b75c6b"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetDirectory", "[", 
   RowBox[{"NotebookDirectory", "[", "]"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Export", "[", 
  RowBox[{"\"\<./data/allFrecuencies.json\>\"", ",", 
   RowBox[{"all", "//", "N"}]}], "]"}]}], "Input",
 CellChangeTimes->{{3.947300343027937*^9, 3.947300376185273*^9}, {
   3.947300743385824*^9, 3.947300754945273*^9}, {3.947300787336986*^9, 
   3.9473007908573*^9}, 3.947300895537178*^9},
 CellLabel->"In[31]:=",ExpressionUUID->"e0fe3b11-08dc-4bba-ba3a-d9b6324c0da4"],

Cell[BoxData["\<\"./data/allFrecuencies.json\"\>"], "Output",
 CellChangeTimes->{{3.947300345408888*^9, 3.947300376950615*^9}, {
   3.947300746312607*^9, 3.947300791646742*^9}, 3.947300898003251*^9, 
   3.9473427661603622`*^9, 3.947345425863969*^9, 3.947347597391575*^9, 
   3.947348085683021*^9},
 CellLabel->"Out[32]=",ExpressionUUID->"6f12b548-a111-495c-a9cb-a39fb6f4b5c9"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"all", "=", 
   RowBox[{"Import", "[", "\"\<./data/allFrecuencies.json\>\"", "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.947300034705984*^9, 3.9473000424175797`*^9}, {
   3.9473003595158978`*^9, 3.947300359962048*^9}, {3.947300882648727*^9, 
   3.94730088659286*^9}, 3.94734753305383*^9},
 CellLabel->"In[33]:=",ExpressionUUID->"40327a31-eae6-43b1-81dc-f93e7f5ef766"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetDirectory", "[", 
   RowBox[{"NotebookDirectory", "[", "]"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Do", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"minX", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"Min", "[", 
         RowBox[{"Flatten", "[", 
          RowBox[{"all", "[", 
           RowBox[{"[", 
            RowBox[{"i", ",", "2", ",", "All", ",", "All", ",", "1"}], "]"}], 
           "]"}], "]"}], "]"}], "-", "0.5"}], "//", "N"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"maxX", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"Max", "[", 
         RowBox[{"Flatten", "[", 
          RowBox[{"all", "[", 
           RowBox[{"[", 
            RowBox[{"i", ",", "2", ",", "All", ",", "All", ",", "1"}], "]"}], 
           "]"}], "]"}], "]"}], "+", "0.5"}], "//", "N"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"maxY", "=", 
      RowBox[{
       RowBox[{"Max", "[", 
        RowBox[{"Flatten", "[", 
         RowBox[{"all", "[", 
          RowBox[{"[", 
           RowBox[{"i", ",", "2", ",", "All", ",", "All", ",", "2"}], "]"}], 
          "]"}], "]"}], "]"}], "//", "N"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"gif", "=", 
      RowBox[{"Animate", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"StackedListPlot", "[", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"all", "[", 
           RowBox[{"[", 
            RowBox[{"i", ",", "2", ",", "j"}], "]"}], "]"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"PlotRange", "->", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"minX", ",", "maxX"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"0", ",", "maxY"}], "}"}]}], "}"}]}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"AspectRatio", "->", "1"}], ",", "\[IndentingNewLine]", 
          RowBox[{"Frame", "->", "True"}], ",", "\[IndentingNewLine]", 
          RowBox[{"PlotStyle", "->", "Red"}], ",", "\[IndentingNewLine]", 
          RowBox[{"Mesh", "->", "All"}], ",", "\[IndentingNewLine]", 
          RowBox[{"PlotLabel", "->", 
           RowBox[{"\"\<Splited by \>\"", "<>", 
            RowBox[{"ToString", "[", 
             RowBox[{"IntegerPart", "[", 
              RowBox[{"all", "[", 
               RowBox[{"[", 
                RowBox[{"i", ",", "1"}], "]"}], "]"}], "]"}], "]"}]}]}]}], 
         "]"}], "\[IndentingNewLine]", ",", 
        RowBox[{"{", 
         RowBox[{"j", ",", "1", ",", 
          RowBox[{"Length", "[", 
           RowBox[{"all", "[", 
            RowBox[{"[", 
             RowBox[{"1", ",", "2"}], "]"}], "]"}], "]"}], ",", "2"}], 
         "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Export", "[", 
      RowBox[{
       RowBox[{"\"\<./animations/\>\"", "<>", 
        RowBox[{"ToString", "[", "i", "]"}], "<>", "\"\<.gif\>\""}], ",", 
       "gif", ",", 
       RowBox[{"\"\<AnimationRepetitions\>\"", "->", "\[Infinity]"}]}], "]"}],
      ";"}], "\[IndentingNewLine]", ",", 
    RowBox[{"{", 
     RowBox[{"i", ",", "1", ",", 
      RowBox[{"Length", "[", "all", "]"}], ",", "1"}], "}"}]}], "]"}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.947348162579307*^9, 3.947348226775631*^9}, {
   3.947348307250306*^9, 3.9473484023509893`*^9}, {3.947348518496018*^9, 
   3.947348522611182*^9}, {3.947348574545356*^9, 3.94734857875421*^9}, {
   3.947348624252781*^9, 3.947348628002784*^9}, {3.9473489212670717`*^9, 
   3.947348932107916*^9}, {3.947350643087525*^9, 3.947350653154627*^9}, 
   3.947350803965814*^9, 
   3.947350989379704*^9},ExpressionUUID->"274f05af-388b-431f-b71f-\
8401afbd380b"]
},
WindowSize->{1440, 758.25},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
FrontEndVersion->"14.2 for Linux x86 (64-bit) (December 26, 2024)",
StyleDefinitions->FrontEnd`FileName[{"Report"}, "StandardReport.nb", 
  CharacterEncoding -> "UTF-8"],
ExpressionUUID->"152032ad-7c21-4253-b813-550d2f060399"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[554, 20, 487, 13, 41, "Input",ExpressionUUID->"94489462-c673-479e-8654-cca03a4ede87"],
Cell[1044, 35, 1567, 34, 128, "Input",ExpressionUUID->"d04e50d8-6ba5-48f3-bc11-be5c0d1389ed"],
Cell[2614, 71, 1032, 26, 128, "Input",ExpressionUUID->"186e5e61-acd5-4c6e-baa2-783566172cb9"],
Cell[3649, 99, 2350, 51, 173, "Input",ExpressionUUID->"7db10f2a-40c7-4e4b-8ba1-3c9d7e3e5157"],
Cell[6002, 152, 1197, 29, 86, "Input",ExpressionUUID->"4996bacb-4969-47bb-bbde-5fd81396cf99"],
Cell[7202, 183, 672, 14, 41, "Input",ExpressionUUID->"1b4fa49d-2619-4afd-8dac-3c4b16316725"],
Cell[7877, 199, 1968, 50, 191, "Input",ExpressionUUID->"55fb8718-0b63-437f-afde-7863d8b75c6b"],
Cell[CellGroupData[{
Cell[9870, 253, 533, 10, 64, "Input",ExpressionUUID->"e0fe3b11-08dc-4bba-ba3a-d9b6324c0da4"],
Cell[10406, 265, 376, 5, 40, "Output",ExpressionUUID->"6f12b548-a111-495c-a9cb-a39fb6f4b5c9"]
}, Open  ]],
Cell[10797, 273, 408, 8, 41, "Input",ExpressionUUID->"40327a31-eae6-43b1-81dc-f93e7f5ef766"],
Cell[11208, 283, 3737, 91, 409, "Input",ExpressionUUID->"274f05af-388b-431f-b71f-8401afbd380b"]
}
]
*)

